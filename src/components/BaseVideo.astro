---
export interface Props extends HTMLVideoElement {
  type?: string;
  class?: string;
  root?: boolean;
  playsinline?: boolean;
  webkitPlaysinline?: boolean;
}

const {
  src,
  title = "Video title",
  class: className,
  playsinline = true,
  webkitPlaysinline = true,
  muted = true,
  loop = true,
  type = 'mp4'
}: Props = Astro.props;

const blogassetsDir = "/assets/blog/";
const isRoot = src.startsWith('/src')
---

<video
  class={className}
  muted={muted}
  loop={loop}
  playsinline={playsinline}
  src={isRoot ? src : blogassetsDir + src}
  title={title}
  type={type}
  class={className}
  webkitPlaysinline={webkitPlaysinline}
  {...Astro.props}></video>
